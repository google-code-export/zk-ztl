<!-- B30-1968434.ztl.java

	Purpose:for testing B30-1968434.ztl .

	Description:

	History:
		06, 13, 2011 12:06:59

Copyright (C) 2011 Potix Corporation. All Rights Reserved.

This program is distributed under Apache License Version 2.0 in the hope that
it will be useful, but WITHOUT ANY WARRANTY.
-->
<test tags="B30-1968434.zul,Tabbox,Grid,IE">
	<case id="ztl">
		<server><!--
			


<window>	
	In IE, when you click the "add Tab" button, then the layout of gird should not be out of the tabpanel.
	<button label="add Tab" onClick="openNewTab()"/>
	
	<tabbox  width="500px" height="300px">
		<tabs id="tbsMain"/>
		<tabpanels id="tbpMain"/>
	</tabbox>
	<zscript><![CDATA[
	public void openNewTab()
	{
		Tabpanel tabPanel = new Tabpanel();
		tbpMain.appendChild(tabPanel);
		
		Tab tab = new Tab();
		tab.setLabel("Tab2");
		tbsMain.appendChild(tab);
		Grid g = new Grid();
		Rows rows = new Rows();
		for (int i = 0; i < 3; i++) {
			Row r = new Row();
			r.appendChild(new Label("Test " + i));
			r.setParent(rows);
		}
		rows.setParent(g);
		g.setWidth("200px");
		g.setHeight("100px");
		tabPanel.appendChild(g);
		
		tab.setSelected(true);
	}
	]]></zscript>
</window>


		--></server>
		<client><![CDATA[
				int gridTop = getElementPositionTop(jq(".z-grid-body")).intValue();
				int gridLeft = getElementPositionLeft(jq(".z-grid-body")).intValue();
				
				int tabpnll = getElementPositionLeft(jq("@tabpanels")).intValue();
				int tabpnlt = getElementPositionTop(jq("@tabpanels")).intValue();
				
				int w = getElementWidth(jq(".z-grid-body")).intValue();
				int h = getElementHeight(jq(".z-grid-body")).intValue();
				
				int w1 = getElementWidth(jq("@tabpanels")).intValue();
				int h1 = getElementHeight(jq("@tabpanels")).intValue();
				
				verifyTrue(gridTop>tabpnlt && (gridTop + h)< (tabpnlt+h1));
				verifyTrue(gridLeft>tabpnll && (gridLeft + w)< (tabpnll+w1));
		]]></client>
	</case>
</test>