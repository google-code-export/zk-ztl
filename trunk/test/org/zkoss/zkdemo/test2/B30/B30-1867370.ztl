<!-- B30-1867370.ztl

	Purpose:for testing B30-1867370.ztl .

	Description:

	History:
		11, 11, 2010 15:49:28

Copyright (C) 2010 Potix Corporation. All Rights Reserved.

This program is distributed under Apache License Version 2.0 in the hope that
it will be useful, but WITHOUT ANY WARRANTY.
-->
<test tags="B30-1867370.zul,A,E,Grid,Paging">
	<case id="ztl">
		<server><!--
			


<zk>
[ 1867370 ] If column hid, each cell should be hidden at paging mold

	<grid id="grid" mold="paging" pageSize="2">
		<columns sizable="true">
			<column label="Type" />
			<column id="col1" label="Content1" />
			<column label="Content2" />
		</columns>
		<rows>
			<row>
				<label value="File:" />
				<textbox width="99%" />
				<label value="File:" />
			</row>
			<row>
				<label value="Type:" />
				<hbox>
					<listbox rows="1" mold="select">
						<listitem label="Java Files,(*.java)" />
						<listitem label="All Files,(*.*)" />
					</listbox>
					<button label="Browse..." />
				</hbox>
				<label value="File:" />
			</row>
			<row>
				<label value="Options:" />
				<textbox rows="3" width="99%" />
				<label value="File:" />
			</row>
		</rows>
	</grid>
	<button label="hide/show" onClick='col1.visible = !col1.visible;' />
</zk>


		--></server>
		<client><![CDATA[
			int columnCount= 3;
			//In startup every rows and columns is 3
			verifyEquals(columnCount,jq("@columns"));
			for(JQuery rows:jq("@rows")){
				verifyEquals(columnCount,rows.find("row").length());
			}
			
			click(jq("@button:last"));
			waitResponse();
			columnCount = 2;
			
			verifyEquals(2,jq("@rows"));
			verifyEquals(columnCount,jq("@columns"));
			for(JQuery rows:jq("@rows")){
				verifyEquals(columnCount,rows.find("row").length());
			}
			
			click(jq("@paging").toWidget().$n("next"));
			waitResponse();
			
			verifyEquals(1,jq("@rows"));
			verifyEquals(columnCount,jq("@columns"));
			for(JQuery rows:jq("@rows")){
				verifyEquals(columnCount,rows.find("row").length());
			}
			
			click(jq("@paging").toWidget().$n("prev"));
			waitResponse();
	
			verifyEquals(columnCount,jq("@rows"));
			verifyEquals(columnCount,jq("@columns"));
			for(JQuery rows:jq("@rows")){
				verifyEquals(columnCount,rows.find("row").length());
			}
			
			click(jq("@button:last"));
			waitResponse();
			
			columnCount= 3;
			verifyEquals(columnCount,jq("@rows"));
			verifyEquals(columnCount,jq("@columns"));
			for(JQuery rows:jq("@rows")){
				verifyEquals(columnCount,rows.find("row").length());
			}
			
			click(jq("@paging").toWidget().$n("next"));
			waitResponse();
			
			verifyEquals(1,jq("@rows"));
			verifyEquals(columnCount,jq("@columns"));
			for(JQuery rows:jq("@rows")){
				verifyEquals(columnCount,rows.find("row").length());
			}
			
			click(jq("@paging").toWidget().$n("prev"));
			waitResponse();
	
			verifyEquals(2,jq("@rows"));
			verifyEquals(columnCount,jq("@columns"));
			for(JQuery rows:jq("@rows")){
				verifyEquals(columnCount,rows.find("row").length());
			}
		]]></client>
	</case>
</test>